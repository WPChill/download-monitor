!function(s,i){"use strict";function e(a){i.ajax({async:!0,type:"GET",dataType:"html",url:a,success:function(){location.reload()}})}s&&(i("a.dlm-install-plugin-link").on("click",a=>{a.preventDefault();const t=i(a.currentTarget);var a=t.data("slug"),n=t.data("action"),l=(t.parents("tr[data-setting]").attr("data-setting"),t.data("activation_url"));t.attr("disabled",!0),"install"===n?(t.after('<span class="dlm-install-plugin-actions">'+dlm_install_plugins_vars.install_plugin+"</span>"),s.updates.installPlugin({slug:a,success:a=>{t.next("span").remove(),t.after("<span>"+dlm_install_plugins_vars.activate_plugin+"</span>"),e(a.data.activateUrl)},error:a=>{t.next("span").remove(),t.after("<span>"+dlm_install_plugins_vars.no_install+" "+a.data.errorMessage+"</span>")}})):"activate"===n&&(t.after('<span class="dlm-install-plugin-actions">'+dlm_install_plugins_vars.activate_plugin+"</span>"),e(l))}),i(document).on("wp-plugin-install-success",function(a,t){"modula-best-grid-gallery"==t.slug&&(event.preventDefault(),e(t.activateUrl))}))}(window.wp,jQuery);