jQuery(function(a){function d(e=!1){void 0===(e=e||a(".dlm_tc_form"))||e.length<=0||e.each(function(){var e=jQuery(this).find('a[href^="'+dlmXHRGlobalLinks+'"]'),t=jQuery(this).find(".tc_accepted"),c=e.attr("href");let d;0<c.indexOf("tc_accepted")&&(c=c.replace(/[&\?]tc_accepted=[0-1]/g,"")),t.is(":checked")?(d=-1<c.indexOf("?")?c+"&tc_accepted=1":c+"?tc_accepted=1",e.attr("href",d),e.removeAttr("disabled"),e.css("pointer-events","all")):(e.attr("href",c),e.attr("disabled","disabled"),e.css("pointer-events","none")),t.change(function(){var e=a(this).closest(".dlm_tc_form").find('a[href^="'+dlmXHRGlobalLinks+'"]');let t=e.attr("href"),c;0<t.indexOf("tc_accepted")&&(t=t.replace(/[&\?]tc_accepted=[0-1]/g,"")),c=-1<t.indexOf("?")?t+"&tc_accepted=1":t+"?tc_accepted=1",this.checked?(e.attr("href",c),e.removeAttr("disabled"),e.css("pointer-events","all")):(e.attr("href",t),e.attr("disabled","disabled"),e.css("pointer-events","none"))})})}0<a(".tc_accepted").closest("form").length?(a(".tc_accepted").change(function(){var e=a(this).closest("form").find(".dlm-tc-submit");this.checked?e.removeAttr("disabled"):e.attr("disabled","disabled")}),"undefined"!=typeof dlmXHR&&a("input.dlm-tc-submit").parents("form").on("submit",function(e){e.preventDefault();const t=a(this),c=t.find("input.dlm-tc-submit"),d=a('input[name="tc_accepted"]').is(":checked")?"1":"0";var e=t.attr("action"),n=t.find("a.dlm-tlc__download-xhr"),n=(0<n.length?n:(t.append('<a href="'+e+'" class="dlm-tlc__download-xhr">'),t.find("a.dlm-tlc__download-xhr"))).get(0),e=new URLSearchParams(e),n=(e.set("tc_accepted",d),{button:n,href:decodeURIComponent(e.toString()),buttonObj:c});dlmXHRinstance.retrieveBlob(n),jQuery(document).on("dlm_download_complete",function(){t.find("img.dlm-xhr-loading-gif").remove()})})):d(),jQuery(document).on("dlm_terms_conditions_modal",function(e,t,c){d(a("body").find("#dlm_terms_conditions_form .dlm_tc_form"))})});